//sir bravin 
const _0x5c3ce8=_0x5459;(function(_0x2d4ba2,_0x26e69f){const _0x17e9a0=_0x5459,_0x43b445=_0x2d4ba2();while(!![]){try{const _0x2fb901=-parseInt(_0x17e9a0(0x1a2))/(0x1b6b+-0x100a+-0xb60)*(parseInt(_0x17e9a0(0x1c0))/(-0x692+-0x1378+0x1a0c))+-parseInt(_0x17e9a0(0x1b2))/(0x23cd+0x257b+-0x4945*0x1)*(-parseInt(_0x17e9a0(0x1b4))/(-0x244+-0x1bb*0x15+-0x1*-0x269f))+-parseInt(_0x17e9a0(0x1a9))/(0x7*-0x2de+-0x2324+0x373b)*(-parseInt(_0x17e9a0(0x1b6))/(0x5c6+0xf7*-0x11+-0xaa7*-0x1))+-parseInt(_0x17e9a0(0x1b9))/(-0x182d+0x1f*0x4e+0xec2)+-parseInt(_0x17e9a0(0x1bb))/(-0x7a8+0x202*-0x13+0x2dd6)*(-parseInt(_0x17e9a0(0x1ae))/(0x1*-0x719+0xae1*0x1+-0x3bf))+-parseInt(_0x17e9a0(0x1be))/(0x20d9+-0x215f*0x1+0x90)+parseInt(_0x17e9a0(0x1b3))/(0x516*-0x1+-0xaa1*-0x2+-0x1021);if(_0x2fb901===_0x26e69f)break;else _0x43b445['push'](_0x43b445['shift']());}catch(_0x6fe0f0){_0x43b445['push'](_0x43b445['shift']());}}}(_0x12c6,-0x3*-0xa53b+-0x4d08a+-0x75199*-0x1));const fs=require('fs'),path=require('path'),{tmpdir}=require('os'),{downloadContentFromMessage}=require('@whiskeyso'+'ckets/bail'+'eys'),{writeFile}=require('fs/promise'+'s'),messageStore=new Map(),CONFIG_PATH=path['join'](__dirname,'../data/an'+'tidelete.j'+'son'),TEMP_MEDIA_DIR=path['join'](__dirname,'../tmp');!fs['existsSync'](TEMP_MEDIA_DIR)&&fs['mkdirSync'](TEMP_MEDIA_DIR,{'recursive':!![]});const getFolderSizeInMB=_0x426649=>{try{const _0x2cb822=fs['readdirSyn'+'c'](_0x426649);let _0x3b116f=-0x283*-0xd+-0x23de+-0x337*-0x1;for(const _0x4845b1 of _0x2cb822){const _0x58990e=path['join'](_0x426649,_0x4845b1);fs['statSync'](_0x58990e)['isFile']()&&(_0x3b116f+=fs['statSync'](_0x58990e)['size']);}return _0x3b116f/((0xc*0x98+-0x14d4+0x11b4)*(-0x655+0x95e+0x13*0xd));}catch{return-0x1f08+0x2d*-0x29+-0x263d*-0x1;}},cleanTempFolderIfLarge=()=>{const _0x408e0e=_0x5459,_0x36d9d7={'bQhaV':function(_0x3313e2,_0x319d16){return _0x3313e2>_0x319d16;}};try{const _0x286683=getFolderSizeInMB(TEMP_MEDIA_DIR);if(_0x36d9d7['bQhaV'](_0x286683,-0x15fe+-0x22b2*0x1+0x1*0x3914)){const _0x4a4be6=fs['readdirSyn'+'c'](TEMP_MEDIA_DIR);for(const _0x45961d of _0x4a4be6){fs['unlinkSync'](path['join'](TEMP_MEDIA_DIR,_0x45961d));}}}catch(_0xf9f743){console[_0x408e0e(0x1ad)]('Temp\x20clean'+'up\x20error:',_0xf9f743);}};setInterval(cleanTempFolderIfLarge,(0x1*-0x5b4+-0x6*0x2e6+0x1754)*(0xb1*0x1f+0x1*-0x1a05+0x87e));function loadAntideleteConfig(){const _0x50bc06={'SvViU':'private'};try{if(!fs['existsSync'](CONFIG_PATH))return{'enabled':![],'mode':'private'};return JSON['parse'](fs['readFileSy'+'nc'](CONFIG_PATH));}catch{return{'enabled':![],'mode':_0x50bc06['SvViU']};}}function saveAntideleteConfig(_0x33e278){try{fs['writeFileS'+'ync'](CONFIG_PATH,JSON['stringify'](_0x33e278,null,-0x47*0x2d+-0x10de*-0x1+0x13*-0x3b));}catch(_0x2e8330){console['error']('Config\x20sav'+'e\x20error:',_0x2e8330);}}async function handleAntideleteCommand(_0x2fde82,_0x2ae3d5,_0xc29bf5,_0x38dac4){const _0xae75d1=_0x5459,_0x5e775c={'RTYQH':'private','tmCqk':'*üôÇ\x20Invalid'+'\x20command.*','pSyUx':function(_0x32a8eb,_0x1d8ec0){return _0x32a8eb+_0x1d8ec0;}};if(!_0xc29bf5['key']['fromMe'])return _0x2fde82['sendMessag'+'e'](_0x2ae3d5,{'text':'Only\x20the\x20b'+_0xae75d1(0x1a1)+'an\x20use\x20thi'+'s\x20command.'});const _0x28954f=loadAntideleteConfig();if(!_0x38dac4)return _0x2fde82['sendMessag'+'e'](_0x2ae3d5,{'text':'*ANTIDELET'+'E\x20SETUP*\x0a\x0a'+_0xae75d1(0x1c1)+(_0x28954f['enabled']?'üí†\x20ON':'üí®\x20OFF')+'\x0aMode:\x20'+(_0x28954f[_0xae75d1(0x1a5)]||_0xae75d1(0x1aa))+('\x0a\x0a*.antide'+'lete\x20all*\x20'+'‚Äì\x20Send\x20to\x20'+'chat\x0a*.ant'+'idelete\x20pr'+'ivate*\x20‚Äì\x20S'+'end\x20to\x20inb'+'ox\x0a*.antid'+'elete\x20off*'+'\x20‚Äì\x20Disable')});if(_0x38dac4==='off')_0x28954f['enabled']=![];else{if(_0x38dac4==='all'||_0x38dac4===_0x5e775c['RTYQH'])_0x28954f['enabled']=!![],_0x28954f['mode']=_0x38dac4;else return _0x2fde82['sendMessag'+'e'](_0x2ae3d5,{'text':_0x5e775c['tmCqk']});}saveAntideleteConfig(_0x28954f),await _0x2fde82['sendMessag'+'e'](_0x2ae3d5,{'text':'üí†\x20*Antidel'+'ete\x20'+(_0x38dac4==='off'?'disabled':_0x5e775c['pSyUx']('enabled\x20in'+'\x20'+_0x38dac4,'\x20mode'))+'!*'});}async function storeMessage(_0x1f9dcc){const _0x443545=_0x5459,_0x5d3bf7={'SSozA':'sticker','ouKer':'video','AWHpY':'storeMessa'+'ge\x20error:'},_0x4720a4=loadAntideleteConfig();if(!_0x4720a4[_0x443545(0x1bc)]||!_0x1f9dcc[_0x443545(0x1a4)]?.['id'])return;const _0x458653=_0x1f9dcc['key']['id'];let _0x1f37d4='',_0x3a3994='',_0x4045f9='';const _0x3412ae=_0x1f9dcc['key']['participan'+'t']||_0x1f9dcc['key']['remoteJid'];try{if(_0x1f9dcc[_0x443545(0x1b7)]?.['conversati'+'on'])_0x1f37d4=_0x1f9dcc['message']['conversati'+'on'];else{if(_0x1f9dcc['message']?.['extendedTe'+'xtMessage']?.[_0x443545(0x1a3)])_0x1f37d4=_0x1f9dcc['message']['extendedTe'+'xtMessage']['text'];else{if(_0x1f9dcc['message']?.['imageMessa'+'ge']){_0x3a3994='image',_0x1f37d4=_0x1f9dcc['message']['imageMessa'+'ge'][_0x443545(0x1a8)]||'';const _0x3d37bf=await downloadContentFromMessage(_0x1f9dcc['message']['imageMessa'+'ge'],'image');_0x4045f9=path['join'](TEMP_MEDIA_DIR,_0x458653+'.jpg'),await writeFile(_0x4045f9,_0x3d37bf);}else{if(_0x1f9dcc['message']?.['stickerMes'+'sage']){_0x3a3994=_0x5d3bf7['SSozA'];const _0x1151a2=await downloadContentFromMessage(_0x1f9dcc['message']['stickerMes'+'sage'],'sticker');_0x4045f9=path['join'](TEMP_MEDIA_DIR,_0x458653+'.webp'),await writeFile(_0x4045f9,_0x1151a2);}else{if(_0x1f9dcc['message']?.['videoMessa'+'ge']){_0x3a3994=_0x5d3bf7['ouKer'],_0x1f37d4=_0x1f9dcc['message']['videoMessa'+'ge']['caption']||'';const _0xd99de=await downloadContentFromMessage(_0x1f9dcc['message']['videoMessa'+'ge'],'video');_0x4045f9=path['join'](TEMP_MEDIA_DIR,_0x458653+'.mp4'),await writeFile(_0x4045f9,_0xd99de);}}}}}messageStore['set'](_0x458653,{'content':_0x1f37d4,'mediaType':_0x3a3994,'mediaPath':_0x4045f9,'sender':_0x3412ae,'group':_0x1f9dcc['key'][_0x443545(0x1bf)]['endsWith'](_0x443545(0x1af))?_0x1f9dcc['key']['remoteJid']:null,'timestamp':new Date()['toISOStrin'+'g']()});}catch(_0x518401){console[_0x443545(0x1ad)](_0x5d3bf7['AWHpY'],_0x518401);}}function _0x12c6(){const _0x48687d=['9BXEyLT','@g.us','numeric','*üóëÔ∏è\x20Deleted','48wMDDny','4445584uzNWFQ','1192tBFyiF','sticker','6uOChBr','message','\x20By:*\x20@','690823MoHPgc','mediaPath','1187096NgMgjA','enabled','mediaType','829250WmhUKi','remoteJid','10838XjPfnj','Current:\x20','ot\x20owner\x20c','64SrYtwy','text','key','mode','üí†*\x0a\x0a','includes','caption','1310695moDXRk','private','exports','*üí†\x20Sender:','error'];_0x12c6=function(){return _0x48687d;};return _0x12c6();}function _0x5459(_0x4e2063,_0x23af70){const _0x209b3f=_0x12c6();return _0x5459=function(_0xaeb874,_0x4f6002){_0xaeb874=_0xaeb874-(0x11f1+0x413*0x4+-0x209c);let _0x5cec1f=_0x209b3f[_0xaeb874];return _0x5cec1f;},_0x5459(_0x4e2063,_0x23af70);}async function handleMessageRevocation(_0x46dcb3,_0x4a0ee2){const _0x1efeb7=_0x5459,_0x2949b1=loadAntideleteConfig();if(!_0x2949b1['enabled'])return;try{const _0x2d71ff=_0x4a0ee2['message']?.['protocolMe'+'ssage']?.['key']?.['id'];if(!_0x2d71ff)return;const _0x5bde68=_0x4a0ee2['participan'+'t']||_0x4a0ee2['key']['participan'+'t']||_0x4a0ee2['key']['remoteJid'],_0x3de779=_0x46dcb3['user']['id']['split'](':')[0xa9f*-0x1+-0x1fa1+0x2a40]+('@s.whatsap'+'p.net');if(_0x5bde68[_0x1efeb7(0x1a7)](_0x46dcb3['user']['id'])||_0x5bde68===_0x3de779)return;const _0x11772a=messageStore['get'](_0x2d71ff);if(!_0x11772a)return;const _0xaba56b=_0x11772a['sender'],_0xe8fac0=_0xaba56b['split']('@')[0x31d*-0x2+-0xed*0x5+0xadb],_0x51bab5=_0x11772a['group']?(await _0x46dcb3['groupMetad'+'ata'](_0x11772a['group']))['subject']:'',_0x435f04=new Date()['toLocaleSt'+'ring']('en-US',{'timeZone':'Africa/Nai'+'robi','hour12':!![],'hour':'2-digit','minute':'2-digit','second':'2-digit','day':'2-digit','month':'2-digit','year':_0x1efeb7(0x1b0)}),_0x4c00f5=_0x2949b1['mode']==='private'?_0x3de779:_0x11772a['group']||_0xaba56b;let _0x5184ff='*üí†\x20ANTIDEL'+'ETE\x20ALERT\x20'+_0x1efeb7(0x1a6)+(_0x1efeb7(0x1b1)+_0x1efeb7(0x1b8)+_0x5bde68['split']('@')[0xacf+-0x4*0x49c+0x7a1]+'\x0a')+(_0x1efeb7(0x1ac)+'*\x20@'+_0xe8fac0+'\x0a')+('*üí†\x20Time:*\x20'+_0x435f04+'\x0a');if(_0x51bab5)_0x5184ff+='*üë•\x20Group:*'+'\x20'+_0x51bab5+'\x0a';if(_0x11772a['content'])_0x5184ff+='\x0a*üí¨\x20Messag'+'e:*\x0a'+_0x11772a['content'];await _0x46dcb3['sendMessag'+'e'](_0x4c00f5,{'text':_0x5184ff,'mentions':[_0x5bde68,_0xaba56b]});if(_0x11772a['mediaType']&&fs['existsSync'](_0x11772a['mediaPath'])){const _0x3bca6c={'caption':'*üóëÔ∏è\x20Deleted'+'\x20'+_0x11772a['mediaType']+'*\x0aFrom:\x20@'+_0xe8fac0,'mentions':[_0xaba56b]};switch(_0x11772a[_0x1efeb7(0x1bd)]){case'image':await _0x46dcb3['sendMessag'+'e'](_0x4c00f5,{'image':{'url':_0x11772a[_0x1efeb7(0x1ba)]},..._0x3bca6c});break;case'video':await _0x46dcb3['sendMessag'+'e'](_0x4c00f5,{'video':{'url':_0x11772a['mediaPath']},..._0x3bca6c});break;case _0x1efeb7(0x1b5):await _0x46dcb3['sendMessag'+'e'](_0x4c00f5,{'sticker':{'url':_0x11772a['mediaPath']},..._0x3bca6c});break;}fs['unlinkSync'](_0x11772a['mediaPath']);}messageStore['delete'](_0x2d71ff);}catch(_0x47d912){console['error']('handleMess'+'ageRevocat'+'ion\x20error:',_0x47d912);}}module[_0x5c3ce8(0x1ab)]={'handleAntideleteCommand':handleAntideleteCommand,'handleMessageRevocation':handleMessageRevocation,'storeMessage':storeMessage};
